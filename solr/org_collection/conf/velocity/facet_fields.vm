#**
 *  Display facets based on field values
 *  e.g.: fields specified by &facet.field=
 *#

#if($response.facetFields)
  <h4 #annTitle("Facets generated by adding &facet.field= to the request")>
    Filters <small> click to expand </small>
  </h4>
  #foreach($field in $response.facetFields)
  <div class="panel panel-default">
    ## Hide facets without value
    #if($field.values.size() > 0)
      <div class="panel-heading facet-heading"><h3 class="panel-title">$field.name</h3></div>
        #foreach($facet in $field.values)
        	<a class="list-group-item" href="#url_for_facet_filter($field.name, $facet.name)">#if($facet.name!=$null)$facet.name#else<em>missing</em>#end <span class="badge">$facet.count</span></a>
        #end
    #end  ## end if > 0
  </div>
  #end    ## end for each facet field
#end      ## end if response has facet fields
